(function(a){document.createElement("vx");function b(r,s,t){var u=t||s;var v=s.parentNode;if(t){for(var w=0;w<s.attributes.length;w++){var x=s.attributes[w];t.setAttribute(x.name,x.value);}t.innerHTML=s.innerHTML;v.replaceChild(t,s);}var y=u.vxData||(u.vxData={});Array.prototype.forEach.call(u.attributes,function(B){if(B.specified){var C=B.name.substr(0,3)=="vx-",D=C?B.name.substr(3):B.name;switch(D){case"if":u.vxType=1;if(!u.vxTemplate){u.setAttribute("template","...");u.vxTemplate=u.innerHTML;}break;case"for":u.vxType=2;j(v);if(!v.vxTemplate){v.setAttribute("template","...");v.vxTemplate=u;}break;}var E=function(){var G=F.map(function(L){return L();});if(G.length<2)G=G[0];else G=G.join("");switch(D){case"if":if(y[D]!=G){y[D]=G;j(u);if(G)u.innerHTML=u.vxTemplate;u.vxInnerHide=!G;n(r);}break;case"for":j(v);y[D]=G;if(G){var H=document.createDocumentFragment();for(var I=0;I<G.length;I++){var J=f(u);J.removeAttribute("vx-for");J.vxForIndex=I;J.vxForItem=G[I];J.vxType=2;H.appendChild(J);}v.appendChild(H,u);n(r);}break;case"inner-html":j(u);if(!u.vxInnerHide){u.innerHTML=G;n(r);}break;case"inner-text":j(u);if(!u.vxInnerHide)u.innerText=G;break;default:var K=D.split("-");if(K.length<=1)u.setAttribute(D,G);else{switch(K[0]){case"capture":switch(K[1]){case"catch":k(r,u,y,D,K,2,G,false,true);break;case"bind":k(r,u,y,D,K,2,G,true,true);break;}break;case"catch":k(r,u,y,D,K,1,G,false,false);break;case"bind":k(r,u,y,D,K,1,G,true,false);break;case"data":(u.dataset||(u.dataset={}))[K.slice(1).join("-")]=G;break;}}break;}};var F=[];if(C){B.value.match(/(?:\{\{([^\}]*)\}\})|((?:[^{]+|\{))/g).forEach(function(H){if(H.indexOf("{{")>=0){F.push(c(r,u,v,H,E));}else{F.push(function(){return H;});}});}else{F.push(function(){return u.getAttribute(D);});}E();}});if(t){if(u.vxInnerText==null)u.vxInnerText=u.innerText.trim();if(u.vxInnerText.substr(0,2)=="{{"&&u.vxInnerText.substr(u.vxInnerText.length-2)=="}}"){var z=function(){u.innerText=A(r,u);};var A=c(r,u,v,u.vxInnerText,z);z();}else throw u.vxInnerText;}i(u,"vx");}function c(s,t,u,v,w){var x=v.substr(2,v.length-4).replace(/(?:([a-zA-Z][\w\.\[\]0-9]*))|(?:\"[^\"]*\")|(?:\'[^\"]*\')/g,function(y,z){if(z){var A=z.split(".");var B=d(t,u);var C=B[A[0]];if(C===undefined){var D=t.vxData||(t.vxData={});var E=D["vx-data-"+z];if(E==null){D["vx-data-"+z]=E=[];h(t,"vx-data-"+z);}E.push(w);}return'fn("'+z+'")';}else return y;});x=a.eval("0||function(fn){ return "+x+"}");return function(){return x(function(z){var A=z.split(".");var B=d(t,u);var C=B[A[0]];if(C!==undefined)return e(C(),A,1);else return e(s.data,A,0);});};}function d(t,u){if(t){if(t.vxCs==m.cs){return t.vxScope;}else{t.vxCs=m.cs;if(t.tagName!="HTML"){if(t.vxType!=2){return t.vxScope=d(t.parentNode||u);}else{var v=t.vxScope=Object.assign({},d(t.parentNode||u));var w=t.getAttribute("for-item")||"item";var x=t.getAttribute("for-index")||"index";v[w]=function(){return t.vxForItem;};v[x]=function(){return t.vxForIndex;};return v;}}else{return t.vxScope||(t.vxScope={});}}}else return{};}function e(u,v,w){for(var x=w;x<v.length;x++){if(u==null)return null;u=u[v[x]];}return u;}function f(v){var w=v.cloneNode();for(var x=0;x<v.childNodes.length;x++){w.appendChild(f(v.childNodes[x]));}return w;}function g(w,x){return w.className.match(new RegExp('(\s|^)'+x+'(\s|$)'));}function h(x,y){if(x.classList)x.classList.add(y);else if(!g(x,y))x.className+=" "+y;}function i(y,z){if(y.classList)y.classList.remove(z);else if(g(y,z)){var A=new RegExp('(\s|^)'+z+'(\s|$)');y.className=y.className.replace(A,' ');}}function j(z){while(z.hasChildNodes())z.removeChild(z.firstChild);}function k(A,B,C,D,E,F,G,H,I,J){var K=E.slice(F).join("-");var L=C[D];if(L)B.removeEventListener(K,L,J);L=A[G];if(L)l(B,K,function(M){var N=M||a.event;if(!I)M?M.stopPropagation():a.event.cancelBubble=true;var O={target:N.vxTarget||(N.vxTarget={dataset:(N.target||N.srcElement).dataset}),currentTarget:{dataset:B.dataset}};L.call(A,O);},J);}function l(B,C,D,E){if(B.addEventListener){B.addEventListener(C,D,E);}else{B.attachEvent("on"+C,D,E);}}var m=a.vx=function(){n(q);};function n(D){if(m.ci)return;m.ci=true;m.cs=(m.cs||0)+1;try{while(true){var F=a.document.getElementsByClassName("vx")[0];if(F){b(D,F);}else break;}while(true){var F=a.document.getElementsByTagName("vx")[0];if(F){b(D,F,document.createElement("span"));}else break;}}finally{m.ci=false;}}function o(E){var F=this;F.data={};a.Object.assign(F,E);if(E.observers){F.observers={};for(var G in E.observers){(function(){var H=E.observers[G],I=G.split(",");var J=function(){var N=[];for(var O=0;O<I.length;O++){N.push(F.data[L]);}H.apply(F,N);};for(var K=0;K<I.length;K++){var L=I[K]=I[K].trim();var M=F.observers[L];if(!M)M=F.observers[L]=[];M.push(J);}})();}}}o.prototype={setData:function(F,G){var H=this;switch(arguments.length){case 1:for(var K in F)p(H,K,F[K]);if(H.observers){var O=[];for(var K in F){var L=H.observers[K];if(L)for(var P=0;P<L.length;P++)O.push(L[P]);}O.distinct();for(var P=0;P<O.length;P++)O[P]();}break;case 2:p(H,F,G);if(H.observers){var O=H.observers[F];if(O){for(var P=0;P<O.length;P++)O[P]();}}break;}}};function p(G,H,I){G.data[H]=I;var J="vx-data-"+H;var K=a.document.getElementsByClassName(J);Array.prototype.forEach.call(K,function(L){var M=L.vxData||(L.vxData={});var N=M[J]||[];for(var O=0;O<N.length;O++){N[O]();}});}var q;a.Page=function(H){var I=H.onShow||function(){};var J=H.onHide||function(){};H.onShow=function(){if(H.servicePath!=null)a.require("/api/service.js").set(H.servicePath,this);I.call(this);};H.onHide=function(){if(H.servicePath!=null)a.require("/api/service.js").set(H.servicePath,null);J.call(this);};if(q)throw"Page created";q=new o(H);a.document.addEventListener("DOMContentLoaded",function(){n(q);if(q.onLoad)q.onLoad();if(q.onShow)q.onShow();});};})(window);