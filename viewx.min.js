(function(a){document.createElement("vx");function b(r,s,t){var u=t||s,v=u.vxData||(u.vxData={}),w=s.parentNode,x=[];if(t){for(var C=0;C<s.attributes.length;C++){var z=s.attributes[C];t.setAttribute(z.name,z.value);}t.innerHTML=s.innerHTML;w.replaceChild(t,s);}Array.prototype.forEach.call(u.attributes,function(D){if(D.specified){var E=D.name.substr(0,3)=="vx-",F=E?D.name.substr(3):D.name,G=0;switch(F){case"if":u.vxType=G=1;if(!u.vxTemplate){u.setAttribute("template","...");u.vxTemplate=u.innerHTML;}break;case"for":u.vxType=G=2;x=null;j(w);if(!w.vxTemplate){w.setAttribute("template","...");w.vxTemplate=u;}break;}var H=function(){var J=I.map(function(O){return O();});if(J.length<2)J=J[0];else J=J.join("");switch(F){case"if":if(v[F]!=J){v[F]=J;j(u);if(J)u.innerHTML=u.vxTemplate;u.vxInnerHide=!J;n(r);}break;case"for":j(w);v[F]=J;if(J){var K=document.createDocumentFragment();for(var L=0;L<J.length;L++){var M=f(u);M.removeAttribute(E?"vx-for":"for");M.vxForIndex=L;M.vxForItem=J[L];M.vxType=2;K.appendChild(M);}w.appendChild(K);n(r);}break;case"inner-html":j(u);if(!u.vxInnerHide){u.innerHTML=J;n(r);}break;case"inner-text":j(u);if(!u.vxInnerHide)u.innerText=J;break;default:var N=F.split("-");if(N.length<=1)u.setAttribute(F,J);else{switch(N[0]){case"capture":switch(N[1]){case"catch":k(r,u,v,F,N,2,J,false,true);break;case"bind":k(r,u,v,F,N,2,J,true,true);break;}break;case"catch":k(r,u,v,F,N,1,J,false,false);break;case"bind":k(r,u,v,F,N,1,J,true,false);break;case"data":(u.dataset||(u.dataset={}))[N.slice(1).join("-")]=J;break;}}break;}};var I=[];if(E){D.value.match(/(?:\{\{([^\}]*)\}\})|((?:[^{]+|\{))/g).forEach(function(K){if(K.indexOf("{{")>=0){I.push(c(r,u,w,K,H,G));}else{I.push(function(){return K;});}});}else{I.push(function(){return u.getAttribute(F);});}if(x)x.push(H);else if(G==2)H();}});if(t){if(u.vxInnerText==null)u.vxInnerText=u.innerText.trim();if(u.vxInnerText.substr(0,2)=="{{"&&u.vxInnerText.substr(u.vxInnerText.length-2)=="}}"){var A=function(){u.innerText=B(r,u);};var B=c(r,u,w,u.vxInnerText,A,3);if(x)x.push(A);}else throw u.vxInnerText;}if(x){for(var C=0;C<x.length;C++)x[C]();i(u,"vx");}}function c(s,t,u,v,w,x){var y=v.substr(2,v.length-4).replace(/(?:([a-zA-Z][\w\.\[\]0-9]*))|(?:\"[^\"]*\")|(?:\'[^\"]*\')/g,function(z,A){if(A){var B=A.split(".");var C=d(t,u);var D=C[B[0]];if(D===undefined){var E=x!=2?t:u;var F=E.vxData||(E.vxData={});var G=F["vx-data-"+A];if(G==null){F["vx-data-"+A]=G=[];h(E,"vx-data-"+A);}G.push(w);}return'fn("'+A+'")';}else return z;});y=a.eval("0||function(fn){ return "+y+"}");return function(){return y(function(A){var B=A.split(".");var C=d(t,u);var D=C[B[0]];if(D!==undefined)return e(D(),B,1);else return e(s.data,B,0);});};}function d(t,u){if(t){if(t.vxCs==m.cs){return t.vxScope;}else{t.vxCs=m.cs;if(t.tagName!="HTML"){if(t.vxType!=2){return t.vxScope=d(t.parentNode||u);}else{var v=t.vxScope=Object.assign({},d(t.parentNode||u));var w=t.getAttribute("for-item")||"item";var x=t.getAttribute("for-index")||"index";v[w]=function(){return t.vxForItem;};v[x]=function(){return t.vxForIndex;};return v;}}else{return t.vxScope||(t.vxScope={});}}}else return{};}function e(u,v,w){for(var x=w;x<v.length;x++){if(u==null)return null;u=u[v[x]];}return u;}function f(v){var w=v.cloneNode();for(var x=0;x<v.childNodes.length;x++){w.appendChild(f(v.childNodes[x]));}return w;}function g(w,x){return w.className.match(new RegExp('(\s|^)'+x+'(\s|$)'));}function h(x,y){if(x.classList)x.classList.add(y);else if(!g(x,y))x.className+=" "+y;}function i(y,z){if(y.classList)y.classList.remove(z);else if(g(y,z)){var A=new RegExp('(\s|^)'+z+'(\s|$)');y.className=y.className.replace(A,' ');}}function j(z){while(z.hasChildNodes())z.removeChild(z.firstChild);}function k(A,B,C,D,E,F,G,H,I,J){var K=E.slice(F).join("-");var L=C[D];if(L)B.removeEventListener(K,L,J);L=A[G];if(L)l(B,K,function(M){var N=M||a.event;if(!I)M?M.stopPropagation():a.event.cancelBubble=true;var O={target:N.vxTarget||(N.vxTarget={dataset:(N.target||N.srcElement).dataset}),currentTarget:{dataset:B.dataset}};L.call(A,O);},J);}function l(B,C,D,E){if(B.addEventListener){B.addEventListener(C,D,E);}else{B.attachEvent("on"+C,D,E);}}var m=a.vx=function(){n(q);};function n(D){if(m.ci)return;m.ci=true;m.cs=(m.cs||0)+1;try{while(true){var F=a.document.getElementsByClassName("vx")[0];if(F){b(D,F);}else break;}while(true){var F=a.document.getElementsByTagName("vx")[0];if(F){b(D,F,document.createElement("span"));}else break;}}finally{m.ci=false;}}function o(E){var F=this;F.data={};a.Object.assign(F,E);if(E.observers){F.observers={};for(var G in E.observers){(function(){var H=E.observers[G],I=G.split(",");var J=function(){var N=[];for(var O=0;O<I.length;O++){N.push(F.data[L]);}H.apply(F,N);};for(var K=0;K<I.length;K++){var L=I[K]=I[K].trim();var M=F.observers[L];if(!M)M=F.observers[L]=[];M.push(J);}})();}}}o.prototype={setData:function(F,G){var H=this;switch(arguments.length){case 1:for(var K in F)p(H,K,F[K]);if(H.observers){var O=[];for(var K in F){var L=H.observers[K];if(L)for(var P=0;P<L.length;P++)O.push(L[P]);}O.distinct();for(var P=0;P<O.length;P++)O[P]();}break;case 2:p(H,F,G);if(H.observers){var O=H.observers[F];if(O){for(var P=0;P<O.length;P++)O[P]();}}break;}}};function p(G,H,I){G.data[H]=I;var J="vx-data-"+H;var K=a.document.getElementsByClassName(J);Array.prototype.forEach.call(K,function(L){var M=L.vxData||(L.vxData={});var N=M[J]||[];for(var O=0;O<N.length;O++){N[O]();}});}var q;a.Page=function(H){var I=H.onShow||function(){};var J=H.onHide||function(){};H.onShow=function(){if(H.servicePath!=null)a.require("/api/service.js").set(H.servicePath,this);I.call(this);};H.onHide=function(){if(H.servicePath!=null)a.require("/api/service.js").set(H.servicePath,null);J.call(this);};if(q)throw"Page created";q=new o(H);a.document.addEventListener("DOMContentLoaded",function(){n(q);if(q.onLoad)q.onLoad();if(q.onShow)q.onShow();});};})(window);